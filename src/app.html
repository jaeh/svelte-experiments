<div class='app'>
  <Header dude='walt' />

  <Counter
    bind:count
    on:count='count( event.payload )'
    on:resetCount='resetCount()'
  />

  <Categories />
</div>

<style>
  .app {
    font-size: 22px;
    height: 100vh;
    width: 100vw;
    display: flex;
    flex-direction: column;
  }
</style>

<script>
  import Header from './components/header'
  import Categories from './components/categories'
  import Counter from './components/counter'

  export default {
    data:
      () => ({
        count: 0,
      }),

    methods: {
      count(payload) {
        // count can not go below 0
        const count = Math.max(0, this.get('count') + payload)
        this.set({ count })
      },

      resetCount() {
        this.set({ count: 0 })
      },
    },

    components: {
      Header,
      Counter,
      Categories,
    },
  }
</script>
